<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=0.75, user-scalable=no"
    />
    <link rel="manifest" href="./manifest.json" />
    <title>Spicy Slalom</title>

    <link rel="stylesheet" href="./node_modules/nes.css/css/nes.min.css" />
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <div id="container">
      <canvas id="game"></canvas>
    </div>

    <div id="tutorial" class="hidden">
      <h1>Spicy Slalom</h1>

      <p>Ski down the slope and try to set a record time!</p>

      <p>
        Pass between flags to get a speed boost, but watch out for dangerous
        obstacles.
      </p>

      <img height="176" src="./src/images/tutorial.png" />

      <p class="touch">Tap the left and right halves of the screen to turn.</p>
      <p class="no-touch">Press the arrow keys or A/D to turn.</p>

      <button type="button" id="play" class="nes-btn is-success">
        Hit the slopes!
      </button>
    </div>

    <button type="button" id="left" class="turn-btn touch hidden"></button>
    <button type="button" id="right" class="turn-btn touch hidden"></button>
    <div id="volume-container">
      <div id="mutes">
        <label>
          <input
            type="checkbox"
            id="music"
            data-volume="high"
            class="nes-checkbox is-dark"
          />
          <span>Music</span>
        </label>
        <label>
          <input
            type="checkbox"
            id="sfx"
            data-volume="high"
            class="nes-checkbox is-dark"
          />
          <span>SFX</span>
        </label>
      </div>

      <label for="volume-input">
        <span>Vol</span>
        <div id="volume">
          <div id="volume-background"></div>
          <progress
            id="volume-progress"
            class="nes-progress is-primary"
            type="range"
            value=".5"
            max="1"
          ></progress>
          <input
            id="volume-input"
            class="nes-pointer nes-progress"
            type="range"
            min="0"
            max="1"
            step="0.1"
          />
        </div>
      </label>
    </div>

    <div id="game-container">
      <div id="timer" class="outline-text"></div>
      <div id="reset-container" class="hidden">
        <button id="reset" class="nes-btn is-primary">
          <img src="./src/images/reset.png" />
        </button>
        <div id="try-again" class="hidden">Try again ^</div>
      </div>
    </div>

    <dialog id="leaderboard-container" class="nes-dialog is-rounded">
      <h2>Leaderboard</h2>

      <form class="hidden" novalidate>
        <div class="nes-field">
          <label for="name">Your name</label>
          <input type="text" id="name" class="nes-input" maxlength="50" />
        </div>
        <button class="nes-btn is-primary">Save</button>
      </form>

      <div id="leaderboard" class="nes-table-responsive hidden">
        <table class="nes-table is-bordered is-centered">
          <thead>
            <tr>
              <th>Rank</th>
              <th>Name</th>
              <th>Time</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <button id="close" type="button" class="nes-btn is-error">Close</button>
    </dialog>

    <script type="module" src="./src/main.ts"></script>
  </body>
</html>
